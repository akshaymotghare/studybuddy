function phFunction(){10!=$("#phone-number").val().length?($(".phonesub").addClass("disabled"),$(".user_error").css("display","none")):($(".phonesub").removeClass("disabled"),$(".user_error").css("display","none"))}function onLoadHandler(){$("#newsload").css("display","none")}function login(){$(".ui.modal.login_modal").modal("show")}function onSignInSubmit(){window.signingIn=!0,$(".main_loader").show();var e="+91"+$("#phone-number").val();$("#verifyc").text("Enter verification code send to "+e);var s=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(e,s).then(function(e){$(".main_loader").hide(),window.confirmationResult=e,window.signingIn=!1,$(".verification-code-form").show(),$("#hidepf").hide()}).catch(function(e){$(".main_loader").hide(),window.alert("error\n\n"+e),window.signingIn=!1,$(".verification-code-form").hide()})}window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){}}),recaptchaVerifier.render().then(function(e){window.recaptchaWidgetId=e}),$(document).ready(function(){$("#verifyp").click(function(){$(".main_loader").show(),window.verifyingCode=!0,$("#verifyp").addClass("disabled");var e=$("#verification-code").val();confirmationResult.confirm(e).then(function(e){$(".main_loader").hide();e.user;window.verifyingCode=!1,window.confirmationResult=null}).catch(function(e){console.error("Error while checking the verification code",e),window.alert("Error while checking the verification code:\n\n"+e.code+"\n\n"+e.message),window.verifyingCode=!1,$("#verifyp").removeClass("disabled")})}),$(".verification-code-form").hide(),$(".main_loader").hide(),$("#logr").click(function(){console.log("logr"),$(".ui.modal.login_modal").modal("show")}),$("#passwordf").click(function(){$(".ui.modal.password_modal").modal("show")});var e=$("#login_form"),s=$("#signup_form"),r=$("#password_form"),i=$("#reset_form"),a=$("#phone_form");e.submit(function(e){e.preventDefault()}),i.submit(function(e){e.preventDefault()}),s.submit(function(e){e.preventDefault()}),r.submit(function(e){e.preventDefault()}),a.submit(function(e){e.preventDefault()}),i.form({fields:{password:{identifier:"password",rules:[{type:"empty",prompt:"Please enter your password"},{type:"minLength[8]",prompt:"Your password must be at least {ruleValue} characters"}]}},onFailure:function(){$(".password_modal").modal("refresh")},onInvalid:function(){""!==$(".user_error").text()&&$(".user_error").css("display","none")},onSuccess:function(e){e.preventDefault(),$("#reset_btn").addClass("disabled"),$(".user_error").css("display","none"),$.ajax({url:auth_url+"password/reset",method:"post",contentType:"application/json",data:JSON.stringify({token:passwordtok,password:$("#pass").val()})}).done(function(){console.log("done password reset"),i.append("<div class='ui success message'><div class='header'>password reset successful</div><br />You can now <div id='logr' onclick='login();' class='ui tiny teal button login_trigger'>Log In</div> with your email and password</div>")}).fail(function(){console.log("Fail password reset"),i.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Fail to reset password</div><p>Invalid token try again</p></div>")})}}),$(".phonesub").click(function(){""==$("#phone-number").val()?($(".user_error").css("display","none"),a.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Please enter your phone number</div></div>")):10!=$("#phone-number").val().length?($(".user_error").css("display","none"),a.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Please enter valid phone number</div></div>")):($(".user_error").css("display","none"),onSignInSubmit())}),r.form({fields:{email:{identifier:"email",rules:[{type:"empty",prompt:"Please enter your e-mail"},{type:"email",prompt:"Please enter a valid e-mail"}]}},onFailure:function(){$(".password_modal").modal("refresh")},onInvalid:function(){""!==$(".user_error").text()&&$(".user_error").css("display","none")},onSuccess:function(e){e.preventDefault();var s=r.form("get values");$("#password_btn").addClass("disabled"),$("form .message").html(""),$(".user_error").css("display","none");JSON.stringify(s);var i=$("#emailp").val();firebase.auth().sendPasswordResetEmail(i).then(function(){$("#emailp").val();r.append("<div class='ui success message user_error' style='display:block;'><div class='header'></div><p>Verification link send to your email address</p></div>")}).catch(function(e){var s=e.code,i=e.message;"auth/invalid-email"==s?($("#password_btn").removeClass("disabled"),r.append("<div class='ui error message user_error' style='display:block;'><div class='header'>"+i+"</div><p>Please try again!</p></div>")):"auth/user-not-found"==s&&($("#password_btn").removeClass("disabled"),r.append("<div class='ui error message user_error' style='display:block;'><div class='header'>"+i+"</div><p>Make sure you have registered account!</p></div>")),console.log(e)})}}),e.form({fields:{email:{identifier:"email",rules:[{type:"empty",prompt:"Please enter your e-mail"},{type:"email",prompt:"Please enter a valid e-mail"}]},password:{identifier:"password",rules:[{type:"empty",prompt:"Please enter your password"},{type:"minLength[8]",prompt:"Your password must be at least {ruleValue} characters"}]}},onFailure:function(){$(".login_modal").modal("refresh")},onInvalid:function(){""!==$(".user_error").text()&&$(".user_error").css("display","none")},onSuccess:function(s){s.preventDefault(),$(".main_loader").show(),$("#login_btn").addClass("disabled"),$("form .message").html(""),$(".user_error").css("display","none"),firebase.auth().signInWithEmailAndPassword($("#emailo").val(),$("#passwordo").val()).catch(function(s){var r=s.code,i=s.message;"auth/wrong-password"===r?($(".main_loader").hide(),$("#login_btn").removeClass("disabled"),alert("Wrong password."),e.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Wrong Password</div><p></p></div>")):($(".main_loader").hide(),$("#login_btn").removeClass("disabled"),e.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Error!</div><p>"+i+"</p></div>"),$(".login_modal").modal("refresh")),console.log(s)})}}),$(".main_loader").hide(),s.form({fields:{email:{identifier:"email",rules:[{type:"empty",prompt:"Please enter your e-mail"},{type:"email",prompt:"Please enter a valid e-mail"}]},password:{identifier:"password",rules:[{type:"empty",prompt:"Please enter your password"},{type:"minLength[8]",prompt:"Your password must be at least {ruleValue} characters"}]}},onFailure:function(){$(".signup_modal").modal("refresh")},onInvalid:function(){""!==$(".user_error").text()&&$(".user_error").css("display","none")},onSuccess:function(e){e.preventDefault(),$(".main_loader").show(),$("#signup_btn").addClass("disabled"),$("form .message").html(""),$(".user_error").css("display","none"),firebase.auth().createUserWithEmailAndPassword($("#email_val").val(),$("#passw").val()).catch(function(e){var r=e.code,i=e.message;"auth/weak-password"==r?($(".main_loader").hide(),$("#signup_btn").removeClass("disabled"),s.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Weak Password</div><p>Password is too weak</p></div>")):($(".main_loader").hide(),$("#signup_btn").removeClass("disabled"),s.append("<div class='ui error message user_error' style='display:block;'><div class='header'>Error!</div><p>"+i+"</p></div>")),console.log(e)})}}),$("#outerdiv2").hide(),$("#gresult").click(function(){$("#outerdiv2").transition({animation:"scale",duration:"1s"})}),$(".masthead").visibility({once:!1,onBottomPassed:function(){$(".fixed.menu").transition("fade in")},onBottomPassedReverse:function(){$(".fixed.menu").transition("fade out")}}),$(".ui.sidebar").sidebar("attach events",".toc.item"),$(".signup_trigger").click(function(){$(".ui.modal.signup_modal").modal("show")}),$(".login_trigger").click(function(){$(".ui.modal.login_modal").modal("show")}),$(".signupm_trigger").click(function(){$(".ui.modal.phone_modal").modal("show")})});